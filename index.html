<!DOCTYPE HTML>
<html>
    <head>
        <title>sundayku.me</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    </head>
    <body>
        <div class="container">
            <h1>Similiarity Graph</h1>
            <!-- <button class="btn">Hide Labels</button> -->
            <!-- <button class="btn">Hide Edges</button> -->
            <!-- <button class="btn"></button> -->
            <p>
    This simple interactive graph shows the similiarity of different buckets.
            </p>
            <p>
    Every buckets have a list of items. Two buckets are similiar if they share many
    items. Every node represents one bucket. The bucket with more items will have a
    larger node. The edges show the similiarity of between buckets. Buckets with higher
    similiarity will have a shorter edge. The edges will be thicker if two buckets share
    more common items.
            </p>
            <div id="similiarity-graph"></div>
        </div>
        <script type="text/javascript">
            
        </script>
    </body>
</html>
<script src="https://code.jquery.com/jquery-git2.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script type="text/javascript" src="./similiarity.js"></script>
<script type="text/javascript">

var generateBuckets = function() {
    var buckets = [];
    var items;
    var i,j;
    for (i = 0; i < 30; ++i) {
        j = Math.floor(Math.random()*30);
        items = [];
        for(; j > 0; --j) {
            items.push(Math.floor(Math.random()*3000));
        }
        buckets.push({
            name: "group"+(i+1),
            items: items
        })
    }
    return buckets;
}
var $graph = $("#similiarity-graph");

var config = {
    buckets: generateBuckets(),
    selector:"#similiarity-graph",
    width: $graph.width(),
    height: 800,
}
var graph = SimiliarityGraph(config);
graph.setup(); 
graph.run();
graph.nodes.call(graph.force.drag);
</script>
